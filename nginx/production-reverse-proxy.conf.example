# Server nginx: միայն proxy ango.beauty → Docker (Docker nginx-ը 8080-ում).
# Server nginx-ը մնում է 80-ում; AnGo-ն աշխատում է Docker-ում, 80-ի request-ները
# այս config-ով գնում են 127.0.0.1:8080 (certbot-ի challenge-ը էլ կաշխատի).
#
# Սերվերում: sudo cp .../production-reverse-proxy.conf.example /etc/nginx/sites-available/ango.beauty
#            sudo ln -s .../ango.beauty /etc/nginx/sites-enabled/
#            sudo nginx -t && sudo systemctl reload nginx

server {
    listen 80;
    server_name ango.beauty www.ango.beauty;

    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
    }
}
